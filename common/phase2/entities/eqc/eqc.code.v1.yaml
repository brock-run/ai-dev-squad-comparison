id: eqc.code.v1
version: 1
artifact_type: code
methods: [exact, ast_normalized, cosine_similarity, llm_rubric_judge]
thresholds:
  cosine_similarity: 0.88
  llm_confidence_min: 0.75
  ast_confidence: 0.90
calibration:
  version: 1
  source: benchmark/datasets/phase2_mismatch_labels.jsonl
  cosine_similarity_function: piecewise_linear
  confidence_mapping:
    - [0.95, 1.00, 0.95]
    - [0.88, 0.95, 0.75]
    - [0.70, 0.88, 0.40]
    - [0.00, 0.70, 0.10]
budgets:
  usd_per_1k_tokens_max: 0.03  # Higher for code analysis
  latency_ms_p95: 1500
  max_tokens_per_request: 12000  # Larger for code context
providers:
  llm:
    primary: openai
    fallback: ollama
  embedding:
    primary: openai
    fallback: local